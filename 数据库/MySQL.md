# MySQL

## MVCC

https://www.cnblogs.com/chenpingzhao/p/5065316.html

## 存储引擎

### MyISAM

- 独立于操作系统
- 无法处理事务

当建立一个MyISAM的表时，本地磁盘会建立三个文件：

```python
tb_demo.frm   存储表定义
tb_demo.MYD   存储数据
tb_demo.MYI   存储索引
```

**引擎适用于以下情况**：

- 选择密集型的表。MyISAM存储引擎在筛选大量数据时非常迅速，这是它最突出的优点
- 插入密集型的表。MyISAM的并发插入特性允许同时选择和插入数据。例如：管理邮件或Web服务器日志数据



### InnoDB

**事务存储引擎**  为用户操作非常大的数据存储提供了一个强大的解决方案

**适用于以下情况：**

- 更新密集的表。InooDB存储引擎特别适合处理多重并发的更新请求
- 事务
- 自动灾难恢复
- 外键约束。MySQL支持外键的存储引擎只有InooDB
- 支持自动增加列AUTO_INCREMENT属性

### 

### MEMORY

速度快，采用内存存储，存储数据格式是长度不变的

**适用于以下情况：**

- 目标数据较小，而且被非常频繁的访问
- 如果数据是临时的，而且要求必须立刻可用，就可以存放在内存表中



### MERGE

**MERGE存储引擎是一组MyISAM表的组合，这些MyISAM表结构必须完全相同**，尽管其使用不如其它引擎突出，但是在某些情况下非常有用。说白了，Merge表就是几个相同MyISAM表的聚合器；



### ARCHIVE

Archive拥有很好的压缩机制，它使用zlib压缩库，在记录被请求时会实时压缩，所以它经常被用来当做仓库使用。



**如何选择合适的存储引擎？**

- 是否需要支持事务
- 是否需要使用热备
- 崩溃恢复：能否接受崩溃
- 是否需要外键支持

